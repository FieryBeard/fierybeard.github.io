import{u as a,r as e,j as s}from"./index-BzZ8wQxk.js";import{g as r,P as n,L as l,c as t,d as o,E as u,H as c,l as g}from"./star_fill_40-B-Z-C4O1.js";import{L as i}from"./languages-CrKKOepl.js";import{I as d}from"./IconContainer-DppEtn2M.js";const f=()=>{const f=a(),{data:j}=r(),[m,x]=e.useState(null),[h,p]=e.useState(!1);e.useEffect(()=>{x(j?.user.language??null)},[j?.user.language]);return s.jsx(n,{children:s.jsx(l,{children:s.jsx(t,{header:"Язык",footer:"Выберите язык интерфейса.",children:i.map(a=>{const e=a.code===m;return s.jsx(o,{onClick:()=>(async a=>{if(!h&&a!==m){p(!0);try{const e=await c({language:a});x(e.language??a),f.setQueryData(g.me,s=>s?{...s,user:{...s.user,language:e.language??a}}:s)}catch(e){console.error("Failed to update language",e)}finally{p(!1)}}})(a.code),after:e?s.jsx(d,{children:s.jsx(u,{})}):null,children:a.label},a.code)})})})})};export{f as LanguagePage};
